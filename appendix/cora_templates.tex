\chapter{\gls{cora} models}\label{appendix:cora_models}

\subsection*{PayloadWindow}
\begin{figure}[H]
	\centering
	\begin{tikzpicture}
	%Locations
	\node [init] (l0) {C};
	\node [location] (l1) [right of=l0, xshift=30mm, label={
		[align=center]above:
		\textcolor{name}{notIn}\\
		\textcolor{invariant}{wtime <= window[id][0]}
	}] {};
	\node [location] (l2) [right of=l1, xshift=45mm, label={
		[align=center]above:
		\textcolor{name}{in}\\
		\textcolor{invariant}{wtime <=}\\
		\textcolor{invariant}{window[id][1]}
	}] {};
	\node [location] (l3) [right of=l1, xshift=20mm, yshift=-60mm, label={
		[align=center]below:
		\textcolor{invariant}{wtime <= orbitTime}
	}] {};
	\node [location] (l4) [right of=l2, xshift=45mm]{C};
	\path[->,black, thick] (l0) edge node [midway, below][align=left]{
		\textcolor{update}{alwaysAvailable()}} (l1);
	\path[->,black, thick] (l1) edge node [midway, below][align=center]{
		\textcolor{guard}{wtime >= window[id][0]}\\
		\textcolor{update}{setRunnable()}\\
		\textcolor{sync}{win!}} (l2);
	\path[->,black, thick] (l3) edge node [midway, below left][align=right]{
		\textcolor{guard}{wtime >= orbitTime}\\
		\textcolor{update}{wtime = 0}\\
		\textcolor{sync}{win!}} (l1);
	\path[->,black, thick] (l2) edge node [midway, below right][align=left]{
		\textcolor{guard}{wtime >= window[id][1]}\\
		\textcolor{update}{removeRunnable()}\\
		\textcolor{sync}{win!}} (l3);
	\path[->,black, thick] (l2) edge node [midway, below][align=center]{
		\textcolor{sync}{ready?}} (l4);
	\path[->,black, thick] (l4) edge[bend left=30] node [midway, below][align=center]{
		\textcolor{guard}{ins+TaskTimes[active][1]}\\
		\textcolor{guard}{ >= Window[id][1]}\\
		\textcolor{update}{runnable[active] = 0}}(l2);
	\path[->,black, thick] (l4) edge[bend right=30] node [midway, above][align=center]{
		\textcolor{guard}{ins+TaskTimes[active][1]}\\
		\textcolor{guard}{<= Window[id][1]}}(l2);
	\end{tikzpicture}
	\caption{PayloadWindow template}
	\label{fig:cora_window}
\end{figure}
